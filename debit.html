<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donate Plasma</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Google+Sans"
      as="style"
    />
    <link rel="stylesheet" href="assets/css/minified/materializecss.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <header>
      <nav class="nav-extended nav-fixed transparent z-depth-1">
        <div class="nav-wrapper">
          <a href="index.html" id="logo">Donate Plasma</a>
          <a href="#" class="sidenav-trigger menu" data-target="mobile-nav">
            <i class="material-icons">menu</i>
          </a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li>
              <a href="members.html" class="btn-flat green-text"
                >মেম্বার লিস্ট<i class="material-icons left">people</i></a
              >
            </li>
            <li>
              <a href="debit.html" class="btn-flat amber-text text-darken-4"
                >খরচ<i class="material-icons left">credit_card</i></a
              >
            </li>
            <li>
              <a href="index.html" class="btn-flat red-text" id="register"
                >বের হোন<i class="material-icons left">exit_to_app</i>
              </a>
            </li>
            <li>
              <a
                class="waves-effect waves-light btn btnRounded blue"
                onclick="window.print()"
                ><i class="material-icons right">local_printshop</i>Print</a
              >
            </li>
          </ul>
        </div>
      </nav>
      <ul class="sidenav" id="mobile-nav">
        <li><a href="#donorList">Donor</a></li>
        <li><a href="signin.html">SignIn</a></li>
        <li><a href="register.html">Register</a></li>
      </ul>
    </header>

    <main>
      <div class="container">
        <div class="section">
          <div class="row">
            <div class="center">
              <h4 class="subTitle"></h4>
            </div>
            <div class="row">
              <div class="col s12 m12 l12">
                <div id="table1"></div>
                <div id="table2"></div>
                <div id="table3"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="assets/js/plugin.js"></script>
    <script>
      $(function () {
        $.getJSON("assets/data/debit.json", function () {}).done(function (
          res
        ) {
          for (let index = 0; index < res.debit_info.length; index++) {
            makeDebitTable(res.debit_info[index], index);
          }
        });
      });

      function makeDebitTable(data, index) {
        let str =
          "<div class='center'><h4 class='subTitle'>" +
          data.criteria +
          "</h4></div><div class='card rounded'><div class='card-content'><table class='centered striped'><thead><tr><th>তারিখ</th><th>বাবদ</th><th>টাকা</th><th>মোট টাকা</th></tr></thead>";

        for (let i = 0; i < data.details.length; i++) {
          str += "<tr><td>" + data.details[i].date + "</td>";
          str += "<td>" + data.details[i].through + "</td>";
          str += "<td>" + data.details[i].paid + "</td>";
          str += "<td>" + data.details[i].total_paid + "</td></tr>";
        }
        str += "</table></div></div>";
        if (index === 0) $("#table1").html(str);
        else if (index === 1) $("#table2").html(str);
        else $("#table3").html(str);
      }
    </script>
  </body>
</html>
